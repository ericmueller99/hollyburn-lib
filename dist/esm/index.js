/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["hollyburn-Lib"]=t():e["hollyburn-Lib"]=t()}(this,(()=>(()=>{"use strict";var e={424:e=>{e.exports=require("mssql")},142:e=>{e.exports=require("seriate")}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{BasicForm:()=>C,BookAViewing:()=>H,Fonts:()=>I,Footer:()=>P,Header:()=>O,LoadingWidget:()=>Y,QualifyForm:()=>N,ThankYou:()=>A,buttonTailwindClasses:()=>h,checkFolderExists:()=>oe,dbConnections:()=>U,propertiesEntity:()=>ne});const e=require("react");var t=r.n(e);const a=require("react-datepicker");var l=r.n(a);const o=require("next/image");var s=r.n(o);const i=require("react-hook-form"),c=require("moment");var m=r.n(c);const u=require("axios");var d=r.n(u);const p=require("@heroicons/react/solid");var f=function(e){var t=new Date(e),r=(t.getMonth()+1).toString(),n=t.getDate().toString(),a=t.getFullYear();return r.length<2&&(r="0"+r),n.length<2&&(n="0"+n),[a,r,n].join("-")},h=function(){return"mt-2 w-full inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-hbBlue hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-auto"};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e){var r=e.firstName,n=e.lastName,a=e.emailAddress,o=e.phoneNumber,c=e.maxBudget,u=e.moveIn,f=e.suiteTypes,y=e.cities,b=e.neighbourhoods,w=e.numberOfOccupants,N=e.utmCampaign,x=e.utmSource,k=e.utmMedium,S=e.utmContent,O=e.utmTerm,A=e.stateSetter,_=e.options,P=void 0===_?{}:_,I=[{name:"West End",value:"West End",fieldName:"west-end",inCity:"Vancouver"},{name:"South Granville",value:"South Granville",fieldName:"south-granville",inCity:"Vancouver"},{name:"Kitsilano",value:"Kitsilano",fieldName:"kitsilano",inCity:"Vancouver"},{name:"UBC Point Grey",value:"UBC Point Grey",fieldName:"ubc",inCity:"Vancouver"},{name:"Kerrisdale",value:"Kerrisdale",fieldName:"kerrisdale",inCity:"Vancouver"},{name:"Oakridge",value:"Oakridge",fieldName:"oakridge",inCity:"Vancouver"},{name:"Marpole",value:"Marpole",fieldName:"marpole",inCity:"Vancouver"},{name:"Downtown Toronto",value:"Downtown Toronto",fieldName:"downtown-toronto",inCity:"Toronto"},{name:"The Annex",value:"The Annex",fieldName:"the-annex",inCity:"Toronto"},{name:"Etobicoke",value:"Etobicoke",fieldName:"etobicoke",inCity:"Toronto"},{name:"Yorkville",value:"Yorkville",fieldName:"yorkville",inCity:"Toronto"}],T=P.buttonText,j=void 0===T?"Submit":T,D=P.submitUrl,B=void 0===D?"/api/submit":D,L=P.showBack,C=P.handleBackButton,R=P.formClasses,M=void 0===R?"mt-6 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8":R,F=P.textInputClasses,q=void 0===F?"py-3 px-4 block w-full shadow-sm border border-gray-300 rounded-md focus:ring-hbBlue outline-hbBlue":F,V=P.labelClasses,H=void 0===V?"block text-sm font-medium text-hbGray":V,Y=P.formHolderClasses,G=void 0===Y?"py-10 px-6 sm:px-10 lg:col-span-2 xl:p-12":Y,U=P.textInputHolderClasses,W=void 0===U?"col-span-2 sm:col-auto":U,z=P.checkboxClasses,$=void 0===z?"focus:ring-hbBlue h-4 w-4 text-hbBlue border-gray-300 rounded outline-hbBlue":z,K=P.buttonClasses,X=void 0===K?h():K,Q=(0,i.useForm)({defaultValues:{firstName:r,lastName:n,emailAddress:a,phoneNumber:o,maxBudget:c,moveIn:u,suiteTypes:f,cities:y,neighbourhoods:b,numberOfOccupants:w}}),J=Q.control,Z=Q.register,ee=Q.handleSubmit,te=Q.formState.errors,re=Q.setError,ne=Q.setValue,ae=Q.getValues,le=E(t().useState(!1),2),oe=le[0],se=le[1],ie=E(t().useState(!1),2),ce=ie[0],me=ie[1],ue=E(t().useState(""),2),de=ue[0],pe=ue[1];function fe(e){var r=e.control,n=(0,i.useWatch)({control:r,name:"cities"});if(n){var a=I.filter((function(e){return n.includes(e.inCity)})),l=ae("neighbourhoods");if(l&&l.length>0){var o=a.filter((function(e){return!!l.includes(e.value)})).map((function(e){return e.value}));ne("neighbourhoods",o)}return 0===a.length?"":t().createElement(t().Fragment,null,t().createElement("div",{className:"col-span-2 sm:col-auto"},t().createElement("label",{className:H},"*Interested Neighbourhoods")),t().createElement("div",{className:"col-span-2"},a.map((function(e){return t().createElement("div",{className:"relative inline-flex items-start pr-4",key:e.fieldName},t().createElement("div",{className:"flex items-center h-5"},t().createElement("input",g({id:e.fieldName,type:"checkbox",className:$,value:e.value},Z("neighbourhoods",{required:!0})))),t().createElement("div",{className:"ml-3 text-sm"},t().createElement("label",{htmlFor:e.fieldName,className:H},e.name)))})),te.neighbourhoods&&t().createElement("p",{className:"text-red-600"},"Please select atleast one neighbourhood")))}return""}return t().createElement("div",{className:G},t().createElement("div",{className:oe?"block":"hidden"},t().createElement("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",style:{zIndex:500}},t().createElement(s(),{src:"/images/loading.gif",height:150,width:150,priority:!0})),t().createElement("div",{className:"w-full h-full bg-hbLightGray absolute top-0 left-0 opacity-60 z-40"})),t().createElement("h3",{className:"text-lg font-medium text-gray-900 font-bold"},"Personal Information"),t().createElement("form",{className:M,onSubmit:ee((function(e){e=v(v({},e),{},{utmCampaign:N,utmSource:x,utmMedium:k,utmContent:S,utmTerm:O});var t=m()(),r=m()(e.moveIn);r.isValid()?r.diff(t,"year")>2?re("moveIn",{type:"custom",message:"Choose a move-in within 2 years of today."}):oe||(me(!1),se(!0),d().post(B,e).then((function(t){var r;console.log(t),se(!1);var n=(null===(r=t.data)||void 0===r?void 0:r.data).id;e=v(v({},e),{},{formSubmissionId:n,result:!0}),A&&"function"==typeof A?A(e):console.log("unable to update state.  stateSetter is not a function")})).catch((function(e){me(!0),pe(e.response.data.errorMessage||"Unknown Error"),se(!1)}))):re("moveIn",{type:"custom",message:"move in date does not appear to be valid"})}))},t().createElement("div",{className:W},t().createElement("label",{htmlFor:"firstName",className:H},"*First Name"),t().createElement("div",{className:"mt-1"},t().createElement("input",g({type:"text"},Z("firstName",{required:!0,maxLength:50}),{className:q,title:"First Name"})),te.firstName&&t().createElement("p",{className:"text-red-600"},"First name is required."))),t().createElement("div",{className:W},t().createElement("label",{htmlFor:"lastName",className:H},"*Last Name"),t().createElement("div",{className:"mt-1"},t().createElement("input",g({type:"text"},Z("lastName",{required:!0,maxLength:50}),{className:q,title:"Last Name"})),te.lastName&&t().createElement("p",{className:"text-red-600"},"Last name is required."))),t().createElement("div",{className:W},t().createElement("label",{htmlFor:"email",className:H},"*Email Address"),t().createElement("div",{className:"mt-1"},t().createElement("input",g({type:"email"},Z("emailAddress",{pattern:/\S+@\S+\.\S+/,required:!0}),{className:q,title:"Email Address"})),te.emailAddress&&t().createElement("p",{className:"text-red-600"},"Email address is not valid."))),t().createElement("div",{className:W},t().createElement("label",{htmlFor:"phone",className:H},"*Phone Number"),t().createElement("div",{className:"mt-1"},t().createElement("input",g({type:"tel",className:q},Z("phoneNumber",{pattern:/^(0|[1-9]\d*)(\.\d+)?$/,required:!0,maxLength:50}),{title:"Phone Number"})),te.phoneNumber&&t().createElement("p",{className:"text-red-600"},"Valid phone number is required."))),t().createElement("h3",{className:"text-lg font-medium font-bold text-gray-900 col-span-2"},"Preferences"),t().createElement("div",{className:"col-span-2"},t().createElement("label",{className:H},"*Suite Types")),t().createElement("div",{className:"col-span-2"},[{name:"Studio",value:0,fieldName:"suiteType-0"},{name:"1 Bedroom",value:1,fieldName:"suiteType-1"},{name:"2 Bedroom",value:2,fieldName:"suiteType-2"},{name:"3 Bedroom",value:3,fieldName:"suiteType-3"}].map((function(e){return t().createElement("div",{className:"relative inline-flex items-start pr-4",key:e.name},t().createElement("div",{className:"flex items-center h-5"},t().createElement("input",g({id:e.fieldName,name:"suiteTypes",type:"checkbox",className:$,value:e.value},Z("suiteTypes",{required:!0}),{title:"Suite Type"}))),t().createElement("div",{className:"ml-3 text-sm"},t().createElement("label",{htmlFor:e.fieldName,className:H},e.name)))})),te.suiteTypes&&t().createElement("p",{className:"text-red-600"},"Please select at minimum one suite type.")),t().createElement("div",{className:W},t().createElement("label",{htmlFor:"max-budget",className:H},"*Maximum Budget"),t().createElement("div",{className:"mt-2"},t().createElement("input",g({type:"number",className:q},Z("maxBudget",{required:!0,max:9999,min:500}),{title:"Maximum Budget"})),te.maxBudget&&t().createElement("p",{className:"text-red-600"},"Max budget must be between 500 and 9999"))),t().createElement("div",{className:W},t().createElement("label",{htmlFor:"move-in",className:H},"*Desired Move-in Date"),t().createElement("div",{className:"mt-1 datepicker"},t().createElement(i.Controller,{render:function(e){var r=e.field;return t().createElement(l(),{selected:r.value,onChange:function(e){return r.onChange(e)},dateFormat:"yyyy-MM-dd",className:q})},name:"moveIn",control:J,rules:{required:!0}}),te.moveIn&&t().createElement("p",{className:"text-red-600"}," ",te.moveIn.message?te.moveIn.message:"Move-in is required.","  "))),t().createElement("div",{className:W},t().createElement("label",{className:H},"Pet Friendly Required?"),t().createElement("div",{className:"mt-4"},t().createElement("div",{className:"relative inline-flex items-start pr-4"},t().createElement("div",{className:"flex items-center h-5"},t().createElement("input",g({id:"pet-friendly",name:"pet-friendly",type:"checkbox",title:"Pet Friendly",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},Z("petFriendly")))),t().createElement("div",{className:"ml-3 text-sm"},t().createElement("label",{htmlFor:"pet-friendly",className:H},"Yes"))))),t().createElement("div",{className:W},t().createElement("label",{htmlFor:"occupants",className:H},"Number Of Occupants"),t().createElement("div",null,t().createElement("select",g({id:"occupants",name:"occupants",className:q},Z("numberOfOccupants",{required:!0}),{title:"Number of Occupants"}),[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5}].map((function(e){return t().createElement("option",{key:e.value,value:e.value},e.label)}))),te.numberOfOccupants&&t().createElement("p",{className:"text-red-600"},"Number of occupants is required."))),t().createElement("div",{className:"col-span-2 sm:col-auto"},t().createElement("label",{className:H},"Interested Cities")),t().createElement("div",{className:"col-span-2"},[{name:"Ottawa",value:"Ottawa",fieldName:"city-ottawa"},{name:"Vancouver",value:"Vancouver",fieldName:"city-vancouver"},{name:"Toronto",value:"Toronto",fieldName:"city-toronto"},{name:"Calgary",value:"Calgary",fieldName:"city-calgary"},{name:"West Vancouver",value:"West Vancouver",fieldName:"city-westVancouver"},{name:"North Vancouver",value:"North Vancouver",fieldName:"city-northVancouver"}].map((function(e){return t().createElement("div",{className:"relative inline-flex items-start pr-4",key:e.fieldName},t().createElement("div",{className:"flex items-center h-5"},t().createElement("input",g({id:e.fieldName,type:"checkbox",className:$,value:e.value},Z("cities",{required:!0})))),t().createElement("div",{className:"ml-3 text-sm"},t().createElement("label",{htmlFor:e.fieldName,className:H},e.name)))})),te.cities&&t().createElement("p",{className:"text-red-600"},"Please select at minimum one city")),t().createElement(fe,{control:J}),ce&&t().createElement("div",{className:"col-span-2"},t().createElement("div",{className:"rounded-md bg-red-400 p-4"},t().createElement("div",{className:"flex"},t().createElement("div",{className:"flex-shrink-0"},t().createElement(p.XCircleIcon,{className:"h-7 w-7 text-white","aria-hidden":"true"})),t().createElement("div",{className:"ml-3 flex-1 md:flex md:justify-between text-center"},t().createElement("p",{className:"text-white"},de))))),t().createElement("div",{className:"sm:col-span-2 sm:flex sm:justify-end"},L&&C&&t().createElement("button",{type:"button",className:"".concat(X," mr-1"),onClick:function(e){return C(e)}},"Back"),t().createElement("button",{type:"submit",className:X},j))))}const x=require("@headlessui/react"),k=require("@heroicons/react/outline");var S=[{name:"Unfurnished Rentals",link:"https://www.hollyburn.com/find-an-apartment/",subMenu:[{name:"Vancouver",link:"https://www.hollyburn.com/find-an-apartment/?city=Vancouver"},{name:"Calgary",link:"https://www.hollyburn.com/find-an-apartment/?city=Calgary"},{name:"Toronto",link:"https://www.hollyburn.com/find-an-apartment/?city=Toronto"},{name:"Ottawa",link:"https://www.hollyburn.com/find-an-apartment/?city=Ottawa"}]},{name:"Furnished Rentals",link:"https://www.hollyburn.com/furnished-rentals/",subMenu:[{name:"Vancouver",link:"https://www.hollyburn.com/furnished-rentals/"}]},{name:"About Us",link:"https://www.hollyburn.com/about-us/",subMenu:[{name:"About Hollyburn",link:"https://www.hollyburn.com/about-us/"},{name:"COVID-19 Policies",link:"https://www.hollyburn.com/covid-19/"}]},{name:"Blog",link:"https://www.hollyburn.com/blog/"},{name:"Contact Hollyburn",link:"https://www.hollyburn.com/contact/"},{name:"Resident Log In",link:"https://residentportal.hollyburn.com/login/"}];function O(){return t().createElement(x.Disclosure,{as:"nav",className:"bg-white shadow"},(function(e){var r=e.open;return t().createElement(t().Fragment,null,t().createElement("div",{className:"mx-auto px-4 lg:px-4"},t().createElement("div",{className:"flex justify-between h-24"},t().createElement("div",{className:"flex"},t().createElement("div",{className:"flex-shrink-0 flex items-center max-w-md lg:max-w-full"},t().createElement("div",{className:"hidden lg:flex"},t().createElement("a",{href:"https://www.hollyburn.com"},t().createElement(s(),{src:"/images/logo.svg",alt:"Hollyburn Properties",width:175,height:100}))),t().createElement("div",{className:"lg:hidden flex"},t().createElement("a",{href:"https://www.hollyburn.com"},t().createElement(s(),{src:"/images/logo-badge.svg",alt:"Hollyburn Properties",width:75,height:70}))))),t().createElement("div",{className:"text-center flex content-center items-center"},S.map((function(e){return t().createElement(x.Menu,{as:"div",className:"relative hidden text-hbGray lg:inline-flex hover:border-b-hbOrange hover:border-b-2 p-2 h-10 mx-1 lg:px-1",key:e.name},t().createElement(x.Menu.Button,null,e.subMenu?e.name:t().createElement("a",{href:e.link,target:"_blank"},e.name)),e.subMenu?t().createElement(x.Transition,null,t().createElement(x.Menu.Items,{className:"absolute left-0 w-56 mt-10 bg-white text-left p-4 z-50"},e.subMenu.map((function(e){return t().createElement("div",{key:e.name},t().createElement("a",{href:e.link,className:"hover:bg-hbLightGray w-full inline-block p-2"},e.name))})))):null)}))),t().createElement("div",{className:"hidden lg:ml-6 lg:flex lg:items-center"},t().createElement("a",{href:"https://www.hollyburn.com/find-an-apartment",className:"bg-hbOrange hover:bg-hbOrangeHover",style:{opacity:1,display:"inline-block",verticalAlign:"middle",pointerEvents:"inherit",fontWeight:"500",padding:".75em 1.5em",borderRadius:".375rem",textDecoration:"none",textAlign:"center",border:"none",cursor:"pointer",fontSize:"100%"},target:"_blank",rel:"noreferrer"},"Find an Apartment")),t().createElement("div",{className:"-mr-2 flex items-center lg:hidden"},t().createElement(x.Disclosure.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"},t().createElement("span",{className:"sr-only"},"Open main menu"),r?t().createElement(k.XIcon,{className:"block h-6 w-6","aria-hidden":"true"}):t().createElement(k.MenuIcon,{className:"block h-6 w-6","aria-hidden":"true"}))))),t().createElement(x.Disclosure.Panel,{className:"lg:hidden"},t().createElement("div",{className:"pt-2 pb-3 space-y-1"})))}))}function A(e){var r=e.message,n=void 0===r?t().createElement(t().Fragment,null,"Thank you for your submission!",t().createElement("br",null),"If requested one of our representative will be in touch with you soon."):r;return t().createElement("div",{className:"max-w-6xl m-auto mt-14 text-center"},t().createElement(s(),{src:"/images/thank-you-keys.png",height:200,width:233}),t().createElement("h1",{className:"text-8xl text-hbGray"},"Thank you!"),t().createElement("p",{className:"pb-16 pt-10 text-center"},n),t().createElement("div",{className:"py-5 xl:mb-24"},t().createElement("a",{href:"https://www.hollyburn.com/find-an-apartment",className:"border-4 border-hbOrange p-5 rounded hover:transition hover:bg-hbOrangeHover hover:border-hbOrangeHover hover:text-black duration-300",rel:"noreferrer",target:"_blank"},"Find an Apartment")))}var _=[{type:"learnMore",name:"About Us",link:"https://www.hollyburn.com/about-us/"},{type:"learnMore",name:"Commercial",link:"https://www.hollyburn.com/about-us/commercial/"},{type:"learnMore",name:"Community",link:"https://www.hollyburn.com/community/"},{type:"learnMore",name:"Developments",link:"https://www.hollyburn.com/developments/"},{type:"learnMore",name:"Hollyburn Perks",link:"https://www.hollyburn.com/hollyburn-perks/"},{type:"learnMore",name:"Promotions",link:"https://www.hollyburn.com/promotions/"},{type:"learnMore",name:"Rental Process",link:"https://www.hollyburn.com/rental-process/"},{type:"learnMore",name:"Policies",link:"https://www.hollyburn.com/policies/"},{type:"learnMore",name:"Press / Media",link:"https://www.hollyburn.com/press-media/"},{type:"learnMore",name:"Blog",link:"https://www.hollyburn.com/blog/"},{type:"learnMore",name:"Careers",link:"https://www.hollyburn.com/careers/"},{type:"learnMore",name:"Contact",link:"https://www.hollyburn.com/contact/"},{type:"vancouverApartmentRentals",name:"Downtown West End Apartments",link:"https://www.hollyburn.com/vancouver/downtown-vancouver/west-end/"},{type:"vancouverApartmentRentals",name:"Kitsilano Apartments",link:"https://www.hollyburn.com/vancouver/vancouver-west-side/kitsilano/"},{type:"vancouverApartmentRentals",name:"Oakridge Apartments",link:"https://www.hollyburn.com/vancouver/vancouver-west-side/oakridge/"},{type:"vancouverApartmentRentals",name:"South Granville Apartments",link:"https://www.hollyburn.com/vancouver/vancouver-west-side/south-granville/"},{type:"vancouverApartmentRentals",name:"North Vancouver Apartments",link:"https://www.hollyburn.com/vancouver/north-shore/"},{type:"vancouverApartmentRentals",name:"West Vancouver Apartments",link:"https://www.hollyburn.com/vancouver/north-shore/west-vancouver/"},{type:"vancouverApartmentRentals",name:"UBC Apartments",link:"https://www.hollyburn.com/vancouver/vancouver-west-side/ubc/"},{type:"torontoApartmentRentals",name:"The Annex Apartments",link:"https://www.hollyburn.com/toronto/the-annex/"},{type:"torontoApartmentRentals",name:"Downtown Toronto Apartments",link:"https://www.hollyburn.com/toronto/downtown-toronto/"},{type:"torontoApartmentRentals",name:"Etobicoke Apartments",link:"https://www.hollyburn.com/toronto/etobicoke-2/"}];function P(e){var r=e.showHero,n=void 0===r||r?"block":"hidden";return t().createElement(t().Fragment,null,t().createElement("section",{className:n},t().createElement("div",{className:"lg:py-24 w-full bg-cover relative text-white bg-footerHero lg:bg-right"},t().createElement("div",{className:"relative h-full"},t().createElement("div",{className:"lg:px-20 py-20 w-full flex flex-row"},t().createElement("div",{className:"hidden lg:basis-2/4 lg:flex"}),t().createElement("div",{className:"px-10 lg:basis-2/4"},t().createElement("h2",{className:"text-white font-medium text-lg pb-5"},"Find Your Next Apartment"),t().createElement("p",null,"You’ve picked your city. You have a budget. And you’re ready to explore available apartments for rent. Starting your apartment search with Hollyburn is a great way to find an apartment rental you’re guaranteed to love!"),t().createElement("div",{className:"py-5 mt-5"},t().createElement("a",{href:"https://www.hollyburn.com/find-an-apartment",className:"border-4 border-hbOrange p-5 rounded hover:transition hover:bg-hbOrangeHover hover:border-hbOrangeHover hover:text-black duration-300",target:"_blank",rel:"noreferrer"},"Find an Apartment"))))))),t().createElement("footer",{style:{fontSize:"14px",fontWeight:"400",lineHeight:"1.7142857143",fontStyle:"normal"}},t().createElement("div",{className:"w-full text-hbGray",style:{backgroundColor:"#ebebeb"}},t().createElement("div",{className:"bg-cover relative mx-auto p-5 lg:px-8 2xl:mx-24",style:{backgroundImage:"url(/images/footer-img-bottom.jpg"}},t().createElement("div",{className:"block lg:flex flex-row lg:px-4 xl:px-12 pt-10 pb-5 lg:py-20"},t().createElement("div",{className:"flex lg:basis-1/4 xl:basis-1/4 2xl:basis-1/3 flex-col"},t().createElement("h3",{className:"hbFooterHeadings"},"Learn More"),t().createElement("div",{className:"py-10"},t().createElement("ul",null,_.filter((function(e){return"learnMore"===e.type})).map((function(e){return t().createElement("li",{key:e.name,className:"py-0.5"},t().createElement("a",{href:e.link,target:"_blank",rel:"noreferrer"},e.name))}))))),t().createElement("div",{className:"hidden lg:flex basis-1/3 lg:basis-1/4 flex-col"},t().createElement("h4",{className:"hbFooterHeadings"},"Locations"),t().createElement("div",{className:"py-10"},t().createElement("h4",{className:"hbFooterSubHeadings mb-4"},t().createElement("a",{href:"https://www.hollyburn.com/vancouver/",target:"_blank",rel:"noreferrer"},"Vancouver Apartment Rentals")),t().createElement("ul",null,_.filter((function(e){return"vancouverApartmentRentals"===e.type})).map((function(e){return t().createElement("li",{key:e.name,className:"py-0.5"},t().createElement("a",{href:e.link,target:"_blank",rel:"noreferrer"},e.name))})))),t().createElement("div",{className:"py-2"},t().createElement("h4",{className:"hbFooterSubHeadings mb-4"},t().createElement("a",{href:"https://www.hollyburn.com/toronto/",target:"_blank",rel:"noreferrer"},"Toronto Apartment Rentals")),t().createElement("ul",null,_.filter((function(e){return"torontoApartmentRentals"===e.type})).map((function(e){return t().createElement("li",{key:e.name,className:"py-0.5"},t().createElement("a",{href:e.link,target:"_blank",rel:"noreferrer"},e.name))})))),t().createElement("div",{className:"py-2"},t().createElement("h4",{className:"hbFooterSubHeadings"},t().createElement("a",{href:"https://www.hollyburn.com/calgary"},"Calgary Rentals")),t().createElement("h4",{className:"hbFooterSubHeadings mt-2"},t().createElement("a",{href:"https://www.hollyburn.com/ottawa"},"Ottawa Rentals")))),t().createElement("div",{className:"flex basis-1/3 lg:basis-2/4 lg:pl-14 flex-col"},t().createElement("h4",{className:"hbFooterHeadings"},"Get Alerts on New Hollyburn Apartments for Rent"),t().createElement("p",{className:"py-10"},"Join our waitlist and be the first to know when new rental listings come available. Simply select your city (Vancouver, Toronto, Calgary, or Ottawa), your neighbourhood, and your budget range to start receiving email notifications today.  ",t().createElement("strong",null,"With 5,000+ apartment rentals, we’re sure to have a home you’ll love!")),t().createElement("div",null,t().createElement("a",{href:"https://www.hollyburn.com#mailing_form",target:"_blank",rel:"noreferrer",className:"rounded hover:bg-hbOrangeHover bg-hbOrange p-4",style:{textDecoration:"none",textAlign:"center",fontWeight:500}},"Subscribe Now")))),t().createElement("div",{className:"border-t border-t-footerBorder lg-6 2xl:mx-12"},t().createElement("div",{className:"lg:flex lg:flex-row"},t().createElement("div",{className:"flex flex-col basis-1/2 pt-2 text-left text-fontGray"},t().createElement("div",{className:"block lg:inline-block space-x-3 sm:py-2 xl:py-5 text-sm"},t().createElement("a",{href:"https://www.hollyburn.com/privacy-policy/",target:"_blank",rel:"noreferrer"},"Privacy Policy"),t().createElement("a",{href:"https://www.hollyburn.com/sitemap/",target:"_blank",rel:"noreferrer"},"Sitemap"),t().createElement("a",{href:"https://www.hollyburn.com/legal-disclaimer/",target:"_blank",rel:"noreferrer"},"Legal Disclaimer"),t().createElement("a",{href:"https://hollyburn.laundroworks.com/",target:"_blank",rel:"noreferrer"},"Laundry"))),t().createElement("div",{className:"flex flex-col basis-1/2 pt-2 text-left lg:text-right text-hbGray"},t().createElement("div",{className:"xl:pt-5 pt-2 text-lg"},"2022 Hollyburn Properties.  All rights reserved."))))))))}function I(){return t().createElement("link",{rel:"stylesheet",type:"text/css",href:"https://cloud.typography.com/6897156/7429632/css/fonts.css"})}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e){var r,n,a=e.stateSetter,l=e.firstName,o=e.lastName,s=e.emailAddress,c=e.phoneNumber,m=e.options,u=void 0===m?{}:m,d=u.buttonText,p=void 0===d?"Submit":d,f=u.formClasses,y=void 0===f?"mt-6 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8":f,v=u.textInputClasses,b=void 0===v?"py-3 px-4 block w-full shadow-sm border border-gray-300 rounded-md focus:ring-hbBlue outline-hbBlue":v,g=u.labelClasses,E=void 0===g?"block text-sm font-medium text-hbGray":g,w=u.formHolderClasses,N=void 0===w?"py-10 px-6 sm:px-10 lg:col-span-2 xl:p-12":w,x=u.textInputHolderClasses,k=void 0===x?"col-span-2 sm:col-auto":x,S=u.buttonClasses,O=void 0===S?h():S,A=(r=t().useState(!1),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return l}}(r,n)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=A[0],P=(A[1],(0,i.useForm)({defaultValues:{firstName:l,lastName:o,emailAddress:s,phoneNumber:c}})),I=P.register,j=P.handleSubmit,B=P.formState.errors;return P.setError,t().createElement("div",{className:N},t().createElement("div",{className:_?"block":"hidden"},t().createElement("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",style:{zIndex:500}},t().createElement("img",{src:"/images/loading.gif",height:"150px",width:"150px",alt:"Loading..."})),t().createElement("div",{className:"w-full h-full bg-hbLightGray absolute top-0 left-0 opacity-60 z-40"})),t().createElement("form",{className:y,onSubmit:j((function(e){a&&"function"==typeof a?(e=D(D({},e),{},{result:!0}),a(e)):(console.log("unable to set state.  stateSetter is not a function"),console.log("form state is:"),console.log(e))}))},t().createElement("div",{className:k},t().createElement("label",{htmlFor:"firstName",className:E},"*First Name"),t().createElement("input",T({type:"text"},I("firstName",{required:!0,maxLength:50}),{className:b,title:"First Name"})),B.firstName&&t().createElement("p",{className:"text-red-600"},"First name is required.")),t().createElement("div",{className:k},t().createElement("label",{htmlFor:"lastName",className:E},"*Last Name"),t().createElement("input",T({type:"text"},I("lastName",{required:!0,maxLength:50}),{className:b,title:"Last Name"})),B.lastName&&t().createElement("p",{className:"text-red-600"},"Last name is required.")),t().createElement("div",{className:k},t().createElement("label",{htmlFor:"emailAddress",className:E},"*Email Address"),t().createElement("input",T({type:"text"},I("emailAddress",{pattern:/\S+@\S+\.\S+/,required:!0}),{className:b,title:"Email Address"})),B.emailAddress&&t().createElement("p",{className:"text-red-600"},"Email address is not valid.")),t().createElement("div",{className:k},t().createElement("label",{htmlFor:"phoneNumber",className:E},"*Phone Number"),t().createElement("input",T({type:"text"},I("phoneNumber",{pattern:/^(0|[1-9]\d*)(\.\d+)?$/,required:!0,maxLength:50}),{className:b,title:"Phone Number"})),B.phoneNumber&&t().createElement("p",{className:"text-red-600"},"Phone number is not valid.")),t().createElement("div",{className:"col-span-2 flex justify-end"},t().createElement("button",{type:"submit",className:O},p))))}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R.apply(this,arguments)}function M(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=q(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,l=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw l}}}}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return l}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H(e){var r=e.vacancyId,n=e.stateSetter,a=e.options,l=void 0===a?{}:a,o=l.buttonText,s=void 0===o?"Submit":o,c=l.showBack,u=l.handleBackButton,d=l.preferences,y=void 0===d?{}:d,v=l.showUpdatePrefsBanner,b=l.handleUpdatePrefs,g=l.formHolderClasses,E=void 0===g?"py-10 px-6 sm:px-10 lg:col-span-2 xl:p-12":g,w=l.formClasses,N=void 0===w?"mt-6 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8":w,x=l.buttonClasses,k=void 0===x?h():x,S=F(t().useState(!0),2),O=S[0],A=S[1],_=F(t().useState([]),2),P=_[0],I=_[1],T=F(t().useState([]),2),j=T[0],D=T[1],B=F(t().useState(!1),2),L=B[0],C=B[1],q=(0,i.useForm)({defaultValues:{vacancyDisplayType:"yes"}}),V=q.control,H=q.watch,Y=q.register,G=q.handleSubmit,U=q.formState.errors,W=q.setError,z=q.setValue,$=q.resetField,K=F(t().useState([]),2),X=K[0],Q=K[1],J=H("suites"),Z=F(t().useState([]),2),ee=Z[0],te=Z[1],re=H("date"),ne=H("property"),ae=F(t().useState([]),2),le=ae[0],oe=ae[1],se=H("timeslot"),ie=F(t().useState(y),2),ce=ie[0],me=(ie[1],H("vacancyDisplayType"));function ue(){if(!X||0===X.length)return"";var e=J||[];return Array.isArray(e)||(e=[e]),e=e.map((function(e){return Number(e)})),t().createElement("div",{className:"col-span-2"},t().createElement("fieldset",null,t().createElement("p",null,"Choose suites that match your preference. ",t().createElement("br",null),t().createElement("span",{className:"text-xs"},"(Up to a maximum of 3 suites)")),t().createElement("div",{className:"mt-4 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-4"},X.map((function(r){return t().createElement("label",{className:"".concat(e.length>2&&!e.includes(r.vacancyId)?"cursor-not-allowed":"hover:border-hbBlue"," relative bg-white border rounded-lg shadow-sm p-4 flex cursor-pointer focus:outline-none ").concat(e.includes(r.vacancyId)?"border border-hbBlue":""),key:r.vacancyId},t().createElement("input",R({type:"checkbox",name:"suites",value:r.vacancyId,className:"sr-only"},Y("suites",{required:"Please select atleast one suite"}),{disabled:e.length>2&&!e.includes(r.vacancyId)})),t().createElement("span",{className:"flex-1 flex"},t().createElement("span",{className:"flex flex-col"},t().createElement(p.CheckCircleIcon,{className:"".concat(e.includes(r.vacancyId)?"h-7 w-7 text-green-600 absolute right-3 top-1/2 transform -translate-y-1/2":"hidden")}),t().createElement("span",{className:"block text-sm font-medium text-gray-900"},"Unit: ",r.unitNumber," - ",["Studio","1 Bedroom","2 Bedroom","3 Bedroom"][r.bedrooms]),t().createElement("span",{className:"block text-sm font-medium text-gray-900"},"Asking Rent: $",r.askingRent," monthly"),t().createElement("span",{className:"block text-sm font-medium text-gray-900"},"Available from: ",r.availableDate),t().createElement("span",{className:"block text-xs text-gray-900"},r.features.toString().replace(/,/g,", "),", ",r.flooring,", ",r.countertops))))}))),U.suites&&t().createElement("p",{className:"text-red-600"},"Choose atleast one suite type")))}function de(){return J&&0!==J.length&&X&&0!==X.length?t().createElement("div",{className:"col-span-2"},t().createElement("fieldset",null,t().createElement("p",null,"Choose the day you would like to book on. ",t().createElement("br",null),t().createElement("span",{className:"text-xs"},"(Please note, we only allow booking up to 4 days in advance)")),t().createElement("div",{className:"mt-4 gap-x-2 grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-y-4"},ee.map((function(e){return e.availableSlots?t().createElement("label",{className:"relative bg-white border rounded-lg shadow-sm p-4 flex cursor-pointer focus:outline-none ".concat(e.value===re?"border border-hbBlue":""),key:e.value},t().createElement("input",R({type:"radio",name:"date",value:e.value,className:"sr-only"},Y("date",{required:"Please select a viewing day."}))),t().createElement("span",{className:"flex-1 flex"},t().createElement("div",{className:"flex w-3/4"},t().createElement("span",{className:"flex flex-col"},t().createElement("span",{className:"block text-sm font-medium text-gray-900"},e.label),t().createElement("span",{className:"block text-sm font-medium"},"Available Slots: ",t().createElement("span",{className:"text-green-600"},e.availableSlots)))),t().createElement("span",{className:"flex items-center w-1/4 justify-end"},t().createElement(p.CheckCircleIcon,{className:"".concat(e.value===re?"h-6 w-6 text-green-600":"hidden")})))):t().createElement("label",{className:"relative bg-white border rounded-lg shadow-sm p-4 flex border border-red-400 cursor-not-allowed",key:e.value},t().createElement("input",R({type:"radio",name:"date",value:e.value,className:"sr-only"},Y("date",{required:!0}),{disabled:!0})),t().createElement("span",{className:"flex-1 flex"},t().createElement("span",{className:"flex flex-col"},t().createElement("span",{className:"block text-sm font-medium text-gray-900"},e.label),t().createElement("span",{className:"block text-sm font-medium"},"Available Slots: ",t().createElement("span",{className:"text-red-600"},e.availableSlots)))))}))))):""}function pe(){return re&&0!==ee.length?t().createElement("div",{className:"col-span-2"},t().createElement("fieldset",null,t().createElement("p",null,"Choose an available timeslot."),t().createElement("div",{className:"mt-4 gap-x-2 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-y-4"},le.map((function(e){return t().createElement("label",{className:"relative bg-white border rounded-lg shadow-sm p-4 flex cursor-pointer focus:outline-none ".concat(se===e.value?"border border-hbBlue":""),key:e.key},t().createElement("input",R({type:"radio",name:"timeslot",className:"sr-only"},Y("timeslot",{required:"Please select a viewing time."}),{value:e.value})),t().createElement("span",{className:"flex-1 flex"},t().createElement("span",{className:"flex flex-none w-3/4 justify-center"},t().createElement("span",{className:"block text-sm font-medium text-gray-900"},e.start," - ",e.end)),t().createElement("span",{className:"flex items-center w-1/4 flex-none justify-center"},t().createElement(p.CheckCircleIcon,{className:"".concat(se===e.value?"h-6 w-6 text-green-600":"hidden")}))))}))))):""}function fe(){return U&&0!==Object.keys(U).length?t().createElement("div",{className:"col-span-2 mt-4"},t().createElement("div",{className:"rounded-md bg-red-400 p-4"},t().createElement("div",{className:"flex"},t().createElement("div",{className:"flex-shrink-0 items-center flex"},t().createElement(p.XCircleIcon,{className:"h-7 w-7 text-white","aria-hidden":"true"})),Object.keys(U).map((function(e){return t().createElement("div",{className:"ml-3 flex-1 md:flex md:justify-between text-center"},t().createElement("p",{className:"text-white"},U[e].message))}))))):""}return t().useEffect((function(){O&&(console.log("getting vacancy feed!"),C(!0),A(!1),fetch("https://api.hollyburn.com/properties/vacancies").then((function(e){return e.json()})).then((function(e){I(e),C(!1)})).catch((function(e){throw C(!1),e})))}),[O]),t().useEffect((function(){if(ce&&"yes"===me){var e=P.filter((function(e){if(!e.hasVacancy)return!1;var t=e.vacancies.filter((function(t){return!(t.furnishedRental||ce.suiteTypes&&ce.suiteTypes.length>0&&("Hollyburn Gardens"===e.propertyName&&console.log(!ce.suiteTypes.map((function(e){return Number(e)})).includes(parseInt(t.bedrooms))),!ce.suiteTypes.map((function(e){return Number(e)})).includes(parseInt(t.bedrooms)))||ce.maxBudget&&parseInt(ce.maxBudget)<parseInt(t.askingRent))}));return!(!t||0===t.length||ce.cities&&ce.cities.length>0&&!ce.cities.includes(e.city)||ce.neighbourhoods&&ce.neighbourhoods.length>0&&!ce.neighbourhoods.includes(e.neighbourhood)&&e.neighbourhood!==e.city)})).map((function(e){return{label:e.propertyName,value:e.propertyHMY}}));D(e)}else{var t=P.filter((function(e){return!!e.hasVacancy&&0!==e.vacancies.filter((function(e){return!e.furnishedRental})).length})).map((function(e){return{label:e.propertyName,value:e.propertyHMY}}));D(t)}if(r)try{if(parseInt(r)){var n,a=F(P.filter((function(e){if(e.vacancies&&e.vacancies.length>0){var t,a=M(e.vacancies);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(l.vacancyId===parseInt(r))return n=l,!0}}catch(e){a.e(e)}finally{a.f()}}})),1)[0];a&&n&&(z("property",a.propertyHMY),z("suites",[n.vacancyId]))}}catch(e){console.log("unable to load from vacancyId"),console.log(e)}r||(z("property","Please Select..."),$("suites"),$("date"),$("timeslot"))}),[P,me]),t().useEffect((function(){var e=F(P.filter((function(e){return e.propertyHMY===parseInt(ne)})),1)[0];if(e){var t=(e||[]).vacancies;if(t=t.filter((function(e){return!e.furnishedRental})),ce&&"yes"===me&&t&&t.length>0){var r=t.filter((function(e){return!(ce.maxBudget&&parseInt(e.askingRent)>parseInt(ce.maxBudget)||ce.suiteTypes&&ce.suiteTypes.length>0&&!ce.suiteTypes.map((function(e){return Number(e)})).includes(parseInt(e.bedrooms)))}));Q(r)}else Q(t);$("suites"),$("date"),$("timeslot")}}),[ne]),t().useEffect((function(){if(!J||0===J.length)return te([]),void oe([]);if(!L){var e=Array.isArray(J)?new Set(J.map((function(e){return Number(e)}))):new Set([Number(J)]),t=F(P.filter((function(e){return!0===e.hasVacancy})).filter((function(t){var r,n=M(t.vacancies);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(e.has(a.vacancyId))return!0}}catch(e){n.e(e)}finally{n.f()}})),1)[0];if(t){C(!0),$("timeslot"),$("date");var r=new Date,n=new Date(r.getTime()+1008e5),a=new Date(r.getTime()+504e6),l=e.size,o="https://api.hollyburn.com/properties/property/".concat(t.propertyHMY,"/availability/?startDate=").concat(f(n),"&endDate=").concat(f(a),"&numberOfSuites=").concat(l);fetch(o).then((function(e){return e.json()})).then((function(e){C(!1);for(var t=new Date(n),r=[];t<=a;)r.push({label:f(t),value:f(t),availableSlots:e.filter((function(e){return new Date(e.start).getDate()===t.getDate()})).length,timeSlots:e.filter((function(e){return new Date(e.start).getDate()===t.getDate()}))}),t.setDate(t.getDate()+1);te(r)})).catch((function(e){throw C(!1),e}))}}}),[J]),t().useEffect((function(){if(re){$("timeslot");var e=F(ee.filter((function(e){return e.value===re})),1)[0].timeSlots;if(e){var t=e.map((function(e,t){return{start:m()(e.start).format("h:mm A"),end:m()(e.end).format("h:mm A"),key:t,value:"".concat(m()(e.start).format("YYYY-MM-DDTHH:mm:ss"),"to").concat(m()(e.end).format("YYYY-MM-DDTHH:mm:ss"))}}));oe(t)}}}),[re]),t().createElement("div",{className:E},t().createElement("div",{className:L?"block":"hidden"},t().createElement("div",{className:"w-full h-full bg-hbLightGray absolute top-0 left-0 opacity-60 z-40"}),t().createElement("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",style:{zIndex:400}},t().createElement("img",{src:"/images/loading.gif",height:"150px",width:"150px",alt:"Loading..."}))),t().createElement("form",{className:N,onSubmit:G((function(e){var t=e.property,r=e.suites,a=e.timeslot;if("Please Select..."!==t){var l=Array.isArray(r)?r:[parseInt(r)],o=[];P.filter((function(e){return e.hasVacancy})).map((function(e){var t,r=M(e.vacancies);try{for(r.s();!(t=r.n()).done;){var n=t.value;l.includes(n.vacancyId)&&(console.log("matched"),o.push(n))}}catch(e){r.e(e)}finally{r.f()}}));var s={result:!0,property:Number(t),suites:o,startDate:a.split("to")[0],endDate:a.split("to")[1]};n&&"function"==typeof n?n(s):(console.log("Unable to set state.  stateSetter is not a function."),console.log("state data:"),console.log(s))}else W("property",{message:"Please select a property."})}))},t().createElement("div",{className:"col-span-2 sm:col-span-1"},t().createElement("fieldset",null,t().createElement("label",{htmlFor:"vacancy-display-type",className:"block text-sm font-medium text-hbGray mb-3"},"Filter based on preferences?")),t().createElement("div",{className:"relative inline-flex items-start pr-4"},t().createElement("div",{className:"flex items-center h-5"},t().createElement("input",R({id:"vacancy-display-yes",type:"radio",className:"focus:ring-hbBlue h-4 w-4 text-hbBlue border-gray-300 rounded",value:"yes"},Y("vacancyDisplayType")))),t().createElement("div",{className:"ml-3 text-sm"},t().createElement("label",{htmlFor:"vacancy-display-yes",className:"font-medium text-gray-700"},"Yes"))),t().createElement("div",{className:"relative inline-flex items-start pr-4"},t().createElement("div",{className:"flex items-center h-5"},t().createElement("input",R({id:"vacancy-display-yes",type:"radio",className:"focus:ring-hbBlue h-4 w-4 text-hbBlue border-gray-300 rounded",value:"no"},Y("vacancyDisplayType")))),t().createElement("div",{className:"ml-3 text-sm"},t().createElement("label",{htmlFor:"vacancy-display-yes",className:"font-medium text-gray-700"},"No")))),v&&"yes"===me&&b&&"function"==typeof b&&j.length>0&&t().createElement("div",{className:"col-span-2"},t().createElement("div",{className:"rounded-md bg-white p-4 border border-gray-300"},t().createElement("div",{className:"flex"},t().createElement("div",{className:"flex-shrink-0 items-center flex"},t().createElement(p.InformationCircleIcon,{className:"h-5 w-5 text-hbBlue","aria-hidden":"true"})),t().createElement("div",{className:"flex-1 md:flex md:justify-between"},t().createElement("p",{className:"flex items-center ml-1"},"Not seeing what you need?"),t().createElement("p",{className:"flex items-center"},t().createElement("button",{type:"button",className:"w-full inline-flex items-center justify-center px-6 py-1 border border-transparent rounded-md shadow-sm text-base text-white bg-hbBlue hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-auto",onClick:function(e){return b(e)}},"Update Preferences")))))),j&&j.length>0&&t().createElement("div",{className:"col-span-2"},t().createElement("label",{htmlFor:"property",className:"block text-sm font-medium text-hbGray"},"Select a Property ",t().createElement("br",null)," ",t().createElement("span",{className:"text-xs"},"yes"===me?"(Vacancies are filtered by your preferences)":"(Only properties with vacancies are displayed)")," "),t().createElement("div",{className:"mt-1"},t().createElement("select",R({className:"py-3 px-4 block w-full shadow-sm border border-gray-300 rounded-md focus:ring-hbBlue outline-hbBlue"},Y("property",{required:"Please select a property."}),{defaultValue:"Please Select..."}),t().createElement("option",{value:"Please Select...",disabled:!0},"Please Select..."),j.map((function(e){return t().createElement("option",{value:e.value,key:e.value},e.label)}))))),!j||0===j.length&&t().createElement("div",{className:"col-span-2"},t().createElement("div",{className:"rounded-md bg-white p-4 border border-red-400"},t().createElement("div",{className:"flex"},t().createElement("div",{className:"flex-shrink-0 items-center flex"},t().createElement(p.InformationCircleIcon,{className:"h-5 w-5 text-hbBlue","aria-hidden":"true"})),t().createElement("div",{className:"flex-1 md:flex md:justify-between"},t().createElement("p",{className:"flex items-center ml-1"},"There are currently no vacancies available that match your preferences."),t().createElement("p",{className:"flex items-center"},t().createElement("button",{type:"button",className:"w-full inline-flex items-center justify-center px-6 py-1 border border-transparent rounded-md shadow-sm text-base text-white bg-hbBlue hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-auto",onClick:function(e){return b(e)}},"Update Preferences")))))),t().createElement(ue,{control:V}),t().createElement(de,{control:V}),t().createElement(pe,{control:V}),t().createElement(fe,{control:V}),t().createElement("div",{className:"col-span-2 flex justify-end"},c&&u&&t().createElement(t().Fragment,null,t().createElement("button",{type:"button",className:"".concat(k," mr-1"),onClick:function(e){return u(e)}},"Back")," "),t().createElement("button",{type:"submit",className:k},s))))}function Y(e){var r=e.isLoading,n=void 0!==r&&r;return t().createElement("div",{className:n?"block":"hidden"},t().createElement("div",{className:"w-full h-full bg-hbLightGray absolute top-0 left-0 opacity-60 z-40"}),t().createElement("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",style:{zIndex:400}},t().createElement("img",{src:"/images/loading.gif",height:"150px",width:"150px",alt:"Loading..."})))}var G=r(142),U={checkEnv:function(e){if(!process.env[e])throw new Error("process.env.".concat(e," is missing"))},residentPortal:{live:{server:process.env.DB_RESIDENTPORTAL_LIVE_SERVER,user:process.env.DB_RESIDENTPORTAL_LIVE_USER,port:1433,password:process.env.DB_RESIDENTPORTAL_LIVE_PASSWORD,database:process.env.DB_RESIDENTPORTAL_LIVE_NAME,options:{encrypt:!0}},test:{server:"sql.hollyburn.com",user:process.env.DB_RESIDENTPORTAL_TEST_USER,port:1433,password:process.env.DB_RESIDENTPORTAL_TEST_PASSWORD,database:process.env.DB_RESIDENTPORTAL_TEST_NAME,options:{encrypt:!0}}},yardi:{live:{server:"100.66.15.61",user:process.env.DB_YARDI_LIVE_USER,password:process.env.DB_YARDI_LIVE_PASSWORD,database:process.env.DB_YARDI_LIVE_NAME,requestTimeout:3e4},test:{server:"100.66.15.91\\F015DB91T_2K16",user:process.env.DB_YARD_TEST_USER,password:process.env.DB_YARDI_TEST_PASSWORD,database:process.env.DB_YARDI_TEST_NAME,requestTimeout:3e4}},api:{live:{server:process.env.DB_HOLLYBURNAPI_SERVER,user:process.env.DB_HOLLYBURNAPI_USER,port:1433,password:process.env.DB_HOLLYBURNAPI_PASSWORD,database:process.env.DB_HOLLYBURNAPI_NAME,options:{encrypt:!0}}},getResidentPortal:function(){return this.residentPortal.live},getResidentPortalTest:function(){return this.residentPortal.test},getHollyburnApi:function(){return this.api.live},getYardi:function(){return this.yardi.live},getYardiTest:function(){return this.yardi.test},runQuery:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(n,a){G.getPlainContext(e).step("query",{query:t,params:r}).end((function(e){e.query.length>0?n(e.query):n([])})).error((function(e){a(e)}))}))}};function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function z(){z=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function i(e,t,r,n){var a=t&&t.prototype instanceof u?t:u,l=Object.create(a.prototype),o=new x(n||[]);return l._invoke=function(e,t,r){var n="suspendedStart";return function(a,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw l;return{value:void 0,done:!0}}for(r.method=a,r.arg=l;;){var o=r.delegate;if(o){var s=E(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var i=c(e,t,r);if("normal"===i.type){if(n=r.done?"completed":"suspendedYield",i.arg===m)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(n="completed",r.method="throw",r.arg=i.arg)}}}(e,r,o),l}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=i;var m={};function u(){}function d(){}function p(){}var f={};s(f,a,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&r.call(y,a)&&(f=y);var v=p.prototype=u.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function n(a,l,o,s){var i=c(e[a],e,l);if("throw"!==i.type){var m=i.arg,u=m.value;return u&&"object"==W(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){m.value=e,o(m)}),(function(e){return n("throw",e,o,s)}))}s(i.arg)}var a;this._invoke=function(e,r){function l(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(l,l):l()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,s(v,"constructor",p),s(p,"constructor",d),d.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(g.prototype),s(g.prototype,l,(function(){return this})),e.AsyncIterator=g,e.async=function(t,r,n,a,l){void 0===l&&(l=Promise);var o=new g(i(t,r,n,a),l);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(v),s(v,o,"Generator"),s(v,a,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a],o=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var s=r.call(l,"catchLoc"),i=r.call(l,"finallyLoc");if(s&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(s){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var l=a;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var o=l?l.completion:{};return o.type=e,o.arg=t,l?(this.method="next",this.next=l.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),m}},e}function $(e,t,r,n,a,l,o){try{var s=e[l](o),i=s.value}catch(e){return void r(e)}s.done?t(i):Promise.resolve(i).then(n,a)}function K(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var l=e.apply(t,r);function o(e){$(l,n,a,o,s,"next",e)}function s(e){$(l,n,a,o,s,"throw",e)}o(void 0)}))}}function X(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,l=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw l}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var te=r(142),re=r(424),ne={defaultConnection:{user:process.env.DB_RESIDENTPORTAL_LIVE_USER,password:process.env.DB_RESIDENTPORTAL_LIVE_PASSWORD,database:process.env.DB_RESIDENTPORTAL_LIVE_NAME,server:process.env.DB_RESIDENTPORTAL_LIVE_SERVER,options:{encrypt:!0}},getPropertyById:function(e,t){return new Promise((function(r,n){te.getPlainContext(e).step("property",{query:"select * from properties where property_hmy=@propertyHMY",params:{propertyHMY:{type:te.Int,val:t}}}).end((function(e){e.property.length>0?r(e.property[0]):r({})})).error((function(e){n(e)}))}))},getAllPropertiesWithAmenities:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(n,a){var l="select * from properties "+t;te.getPlainContext(e).step("properties",{query:l,params:Z({},r)}).step("amenities",{query:"select property_hmy, amenities_subcategories as amenity from properties_amenities_new\ninner join properties_amenities_categories pac on properties_amenities_new.category_id = pac.id\ninner join properties_amenities_subcategories pas on properties_amenities_new.amenity = pas.id"}).end((function(e){var t=e.properties,r=e.amenities;t.length<=0&&n([]);var a,l=X(t);try{var o=function(){var e=a.value,t=r.filter((function(t){return t.property_hmy===e.property_hmy}));e.amenities=t.map((function(e){return e.amenity}))};for(l.s();!(a=l.n()).done;)o()}catch(e){l.e(e)}finally{l.f()}n(t)})).error((function(e){a(e)}))}))},getPropertyBookingScheduleByEmail:function(e){var t=arguments,r=this;return K(z().mark((function n(){var a,l,o;return z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.defaultConnection,n.next=3,re.connect(a);case 3:return l=n.sent,n.next=6,l.request().input("emailAddress",re.NVarChar,e).query("select bs.*, p.meeting_timezone as meeting_timezone, booking_default_duration\nfrom booking_schedule bs\ninner join properties p on p.property_hmy = bs.property_hmy\nwhere p.rm_email = @emailAddress");case 6:return o=n.sent,n.abrupt("return",o.recordsets[0]||[]);case 8:case"end":return n.stop()}}),n)})))()},getPropertyBookingScheduleByPropertyHmy:function(e){var t=arguments,r=this;return K(z().mark((function n(){var a,l,o;return z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.defaultConnection,n.next=3,re.connect(a);case 3:return l=n.sent,n.next=6,l.request().input("propertyHMY",re.Int,e).query("select bs.*, p.meeting_timezone as meeting_timezone, booking_default_duration, booking_unit_modifier, rm_email\nfrom booking_schedule bs\ninner join properties p on p.property_hmy = bs.property_hmy\nwhere p.property_hmy=@propertyHMY");case 6:return o=n.sent,n.abrupt("return",o.recordsets[0]||[]);case 8:case"end":return n.stop()}}),n)})))()}};const ae=require("fs");var le=r.n(ae),oe=function(e){le().existsSync(e)||le().mkdirSync(e)}})(),n})()));