!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["hollyburn-Lib"]=t():e["hollyburn-Lib"]=t()}(this,(()=>(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Header:()=>k,QualifyForm:()=>N});const a=require("react");var n=e.n(a);const r=require("react-datepicker");var l=e.n(r);const m=require("next/image");var o=e.n(m);const s=require("react-hook-form"),i=require("moment");var c=e.n(i);const u=require("axios");var d=e.n(u);const f=require("@heroicons/react/solid");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l=[],m=!0,o=!1;try{for(a=a.call(e);!(m=(n=a.next()).done)&&(l.push(n.value),!t||l.length!==t);m=!0);}catch(e){o=!0,r=e}finally{try{m||null==a.return||a.return()}finally{if(o)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g.apply(this,arguments)}function N(e){var t=e.firstName,a=e.lastName,r=e.emailAddress,m=e.phoneNumber,i=e.maxBudget,u=e.moveIn,p=e.numberOfOccupants,b=e.utmCampaign,y=e.utmSource,N=e.utmMedium,E=e.utmContent,x=e.utmTerm,w=e.setFormCompleted,k=[{name:"West End",value:"West End",fieldName:"west-end",inCity:"Vancouver"},{name:"South Granville",value:"South Granville",fieldName:"south-granville",inCity:"Vancouver"},{name:"Kitsilano",value:"Kitsilano",fieldName:"kitsilano",inCity:"Vancouver"},{name:"UBC Point Grey",value:"UBC Point Grey",fieldName:"ubc",inCity:"Vancouver"},{name:"Kerrisdale",value:"Kerrisdale",fieldName:"kerrisdale",inCity:"Vancouver"},{name:"Oakridge",value:"Oakridge",fieldName:"oakridge",inCity:"Vancouver"},{name:"Marpole",value:"Marpole",fieldName:"marpole",inCity:"Vancouver"},{name:"Downtown Toronto",value:"Downtown Toronto",fieldName:"downtown-toronto",inCity:"Toronto"},{name:"The Annex",value:"The Annex",fieldName:"the-annex",inCity:"Toronto"},{name:"Etobicoke",value:"Etobicoke",fieldName:"etobicoke",inCity:"Toronto"},{name:"Yorkville",value:"Yorkville",fieldName:"yorkville",inCity:"Toronto"}];function O(e){var t=e.control,a=(0,s.useWatch)({control:t,name:"cities"});if(a){var r=k.filter((function(e){return a.includes(e.inCity)}));return 0===r.length?"":n().createElement(n().Fragment,null,n().createElement("div",{className:"col-span-2 sm:col-auto"},n().createElement("label",{className:"font-medium text-sm"},"*Interested Neighbourhoods")),n().createElement("div",{className:"col-span-2"},r.map((function(e){return n().createElement("div",{className:"relative inline-flex items-start pr-4",key:e.fieldName},n().createElement("div",{className:"flex items-center h-5"},n().createElement("input",g({id:e.fieldName,type:"checkbox",className:"focus:ring-hbBlue h-4 w-4 text-hbBlue border-gray-300 rounded",value:e.value},S("neighbourhoods",{required:!0})))),n().createElement("div",{className:"ml-3 text-sm"},n().createElement("label",{htmlFor:e.fieldName,className:"font-medium text-gray-700"},e.name)))})),T.neighbourhoods&&n().createElement("p",{className:"text-red-600"},"Please select atleast one neighbourhood")))}return""}var C=(0,s.useForm)(),j=C.control,S=C.register,P=C.handleSubmit,T=C.formState.errors,q=C.setError,M=h(n().useState(!1),2),F=M[0],V=M[1],I=h(n().useState(!1),2),A=I[0],B=I[1],D=h(n().useState(""),2),L=D[0],G=D[1],H="py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md";return n().createElement("div",{className:"py-10 px-6 sm:px-10 lg:col-span-2 xl:p-12"},n().createElement("div",{className:F?"block":"hidden"},n().createElement("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",style:{zIndex:500}},n().createElement(o(),{src:"/images/loading.gif",height:150,width:150,priority:!0})),n().createElement("div",{className:"w-full h-full bg-hbLightGray absolute top-0 left-0 opacity-60 z-40"})),n().createElement("h3",{className:"text-lg font-medium text-gray-900 font-bold"},"Personal Information"),n().createElement("form",{className:"mt-6 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8",onSubmit:P((function(e){e=v(v({},e),{},{utmCampaign:b,utmSource:y,utmMedium:N,utmContent:E,utmTerm:x});var t=c()(),a=c()(e.moveIn);a.isValid()?a.diff(t,"year")>2?q("moveIn",{type:"custom",message:"Choose a move-in within 2 years of today."}):F||(B(!1),V(!0),d().post("/api/submit",e).then((function(e){console.log(e),V(!1),w(!0)})).catch((function(e){B(!0),G(e.response.data.errorMessage||"Unknown Error"),V(!1)}))):q("moveIn",{type:"custom",message:"move in date does not appear to be valid"})}))},n().createElement("div",{className:"col-span-2 sm:col-auto"},n().createElement("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-900"},"*First Name"),n().createElement("div",{className:"mt-1"},n().createElement("input",g({type:"text"},S("firstName",{required:!0,maxLength:50}),{className:H,value:t})),T.firstName&&n().createElement("p",{className:"text-red-600"},"First name is a required."))),n().createElement("div",{className:"col-span-2 sm:col-auto"},n().createElement("label",{htmlFor:"last-name",className:"block text-sm font-medium text-gray-900"},"*Last Name"),n().createElement("div",{className:"mt-1"},n().createElement("input",g({type:"text"},S("lastName",{required:!0,maxLength:50}),{className:H,value:a})),T.lastName&&n().createElement("p",{className:"text-red-600"},"Last name is required."))),n().createElement("div",{className:"col-span-2 sm:col-auto"},n().createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900"},"*Email Address"),n().createElement("div",{className:"mt-1"},n().createElement("input",g({type:"email",value:r},S("emailAddress",{pattern:/\S+@\S+\.\S+/,required:!0}),{className:H})),T.emailAddress&&n().createElement("p",{className:"text-red-600"},"Email address is not valid."))),n().createElement("div",{className:"col-span-2 sm:col-auto"},n().createElement("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-900"},"*Phone Number"),n().createElement("div",{className:"mt-1"},n().createElement("input",g({value:m,type:"tel",className:H},S("phoneNumber",{pattern:/^(0|[1-9]\d*)(\.\d+)?$/,required:!0,maxLength:50}))),T.phoneNumber&&n().createElement("p",{className:"text-red-600"},"Valid phone number is required."))),n().createElement("h3",{className:"text-lg font-medium font-bold text-gray-900 col-span-2"},"Preferences"),n().createElement("div",{className:"col-span-2"},n().createElement("label",{className:"font-medium text-sm"},"*Suite Types")),n().createElement("div",{className:"col-span-2"},[{name:"Studio",value:0,fieldName:"suiteType-0"},{name:"1 Bedroom",value:1,fieldName:"suiteType-1"},{name:"2 Bedroom",value:2,fieldName:"suiteType-2"},{name:"3 Bedroom",value:3,fieldName:"suiteType-3"}].map((function(e){return n().createElement("div",{className:"relative inline-flex items-start pr-4",key:e.name},n().createElement("div",{className:"flex items-center h-5"},n().createElement("input",g({id:e.fieldName,name:"suiteTypes",type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded",value:e.value},S("suiteTypes",{required:!0})))),n().createElement("div",{className:"ml-3 text-sm"},n().createElement("label",{htmlFor:e.fieldName,className:"font-medium text-gray-700"},e.name)))})),T.suiteTypes&&n().createElement("p",{className:"text-red-600"},"Please select atleast one suite type")),n().createElement("div",{className:"col-span-2 sm:col-auto"},n().createElement("label",{htmlFor:"max-budget",className:"block text-sm font-medium text-gray-900"},"*Maximum Budget"),n().createElement("div",{className:"mt-1"},n().createElement("input",g({value:i,type:"number",className:H},S("maxBudget",{required:!0,max:9999,min:500}))),T.maxBudget&&n().createElement("p",{className:"text-red-600"},"Max budget must be between 500 and 9999"))),n().createElement("div",{className:"col-span-2 sm:col-auto"},n().createElement("label",{htmlFor:"move-in",className:"font-medium text-sm"},"*Desired Move-in Date"),n().createElement("div",{className:"mt-1 datepicker"},n().createElement(s.Controller,{render:function(e){var t=e.field;return n().createElement(l(),{value:u,selected:t.value,onChange:function(e){return t.onChange(e)},dateFormat:"yyyy-MM-dd",className:H,placeholderText:"Select Date"})},name:"moveIn",control:j,rules:{required:!0}}),T.moveIn&&n().createElement("p",{className:"text-red-600"}," ",T.moveIn.message?T.moveIn.message:"Move-in is required.","  "))),n().createElement("div",{className:"col-span-2 sm:col-auto"},n().createElement("label",{className:"font-medium text-sm"},"Pet Friendly Required?"),n().createElement("div",{className:"mt-4"},n().createElement("div",{className:"relative inline-flex items-start pr-4"},n().createElement("div",{className:"flex items-center h-5"},n().createElement("input",g({id:"pet-friendly",name:"pet-friendly",type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded",value:"Yes"},S("petFriendly")))),n().createElement("div",{className:"ml-3 text-sm"},n().createElement("label",{htmlFor:"pet-friendly",className:"font-medium text-gray-700"},"Yes"))))),n().createElement("div",{className:"col-span-2 sm:col-auto"},n().createElement("label",{htmlFor:"occupants",className:"text-sm font-medium"},"Number Of Occupants"),n().createElement("div",null,n().createElement("select",g({id:"occupants",name:"occupants",defaultValue:p,className:H},S("numberOfOccupants",{required:!0})),[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4},{label:5,value:5}].map((function(e){return n().createElement("option",{key:e.value,value:e.value},e.label)}))),T.numberOfOccupants&&n().createElement("p",{className:"text-red-600"},"Number of occupants is required."))),n().createElement("div",{className:"col-span-2 sm:col-auto"},n().createElement("label",{className:"font-medium text-sm"},"Interested Cities")),n().createElement("div",{className:"col-span-2"},[{name:"Ottawa",value:"Ottawa",fieldName:"city-ottawa"},{name:"Vancouver",value:"Vancouver",fieldName:"city-vancouver"},{name:"Toronto",value:"Toronto",fieldName:"city-toronto"},{name:"Calgary",value:"Calgary",fieldName:"city-calgary"},{name:"West Vancouver",value:"West Vancouver",fieldName:"city-westVancouver"},{name:"North Vancouver",value:"North Vancouver",fieldName:"city-northVancouver"}].map((function(e){return n().createElement("div",{className:"relative inline-flex items-start pr-4",key:e.fieldName},n().createElement("div",{className:"flex items-center h-5"},n().createElement("input",g({id:e.fieldName,type:"checkbox",className:"focus:ring-hbBlue h-4 w-4 text-hbBlue border-gray-300 rounded",value:e.value},S("cities",{required:!0})))),n().createElement("div",{className:"ml-3 text-sm"},n().createElement("label",{htmlFor:e.fieldName,className:"font-medium text-gray-700"},e.name)))})),T.cities&&n().createElement("p",{className:"text-red-600"},"Please select atleast one city")),n().createElement(O,{control:j}),A&&n().createElement("div",{className:"col-span-2"},n().createElement("div",{className:"rounded-md bg-red-400 p-4"},n().createElement("div",{className:"flex"},n().createElement("div",{className:"flex-shrink-0"},n().createElement(f.XCircleIcon,{className:"h-7 w-7 text-white","aria-hidden":"true"})),n().createElement("div",{className:"ml-3 flex-1 md:flex md:justify-between text-center"},n().createElement("p",{className:"text-white"},L))))),n().createElement("div",{className:"sm:col-span-2 sm:flex sm:justify-end"},n().createElement("button",{type:"submit",className:"mt-2 w-full inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-hbBlue hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-auto"},"Submit"))))}const E=require("@headlessui/react"),x=require("@heroicons/react/outline");var w=[{name:"Unfurnished Rentals",link:"https://www.hollyburn.com/find-an-apartment/",subMenu:[{name:"Vancouver",link:"https://www.hollyburn.com/find-an-apartment/?city=Vancouver"},{name:"Calgary",link:"https://www.hollyburn.com/find-an-apartment/?city=Calgary"},{name:"Toronto",link:"https://www.hollyburn.com/find-an-apartment/?city=Toronto"},{name:"Ottawa",link:"https://www.hollyburn.com/find-an-apartment/?city=Ottawa"}]},{name:"Furnished Rentals",link:"https://www.hollyburn.com/furnished-rentals/",subMenu:[{name:"Vancouver",link:"https://www.hollyburn.com/furnished-rentals/"}]},{name:"About Us",link:"https://www.hollyburn.com/about-us/",subMenu:[{name:"About Hollyburn",link:"https://www.hollyburn.com/about-us/"},{name:"COVID-19 Policies",link:"https://www.hollyburn.com/covid-19/"}]},{name:"Blog",link:"https://www.hollyburn.com/blog/"},{name:"Contact Hollyburn",link:"https://www.hollyburn.com/contact/"},{name:"Resident Log In",link:"https://residentportal.hollyburn.com/login/"}];function k(){return n().createElement(E.Disclosure,{as:"nav",className:"bg-white shadow"},(function(e){var t=e.open;return n().createElement(n().Fragment,null,n().createElement("div",{className:"mx-auto px-4 lg:px-4"},n().createElement("div",{className:"flex justify-between h-24"},n().createElement("div",{className:"flex"},n().createElement("div",{className:"flex-shrink-0 flex items-center max-w-md lg:max-w-full"},n().createElement("div",{className:"hidden lg:flex"},n().createElement("a",{href:"https://www.hollyburn.com"},n().createElement(o(),{src:"/images/logo.svg",alt:"Hollyburn Properties",width:175,height:100}))),n().createElement("div",{className:"lg:hidden flex"},n().createElement("a",{href:"https://www.hollyburn.com"},n().createElement(o(),{src:"/images/logo-badge.svg",alt:"Hollyburn Properties",width:75,height:70}))))),n().createElement("div",{className:"text-center flex content-center items-center"},w.map((function(e){return n().createElement(E.Menu,{as:"div",className:"relative hidden text-hbGray lg:inline-flex hover:border-b-hbOrange hover:border-b-2 p-2 h-10 mx-1 lg:px-1",key:e.name},n().createElement(E.Menu.Button,null,e.subMenu?e.name:n().createElement("a",{href:e.link,target:"_blank"},e.name)),e.subMenu?n().createElement(E.Transition,null,n().createElement(E.Menu.Items,{className:"absolute left-0 w-56 mt-10 bg-white text-left p-4 z-50"},e.subMenu.map((function(e){return n().createElement("div",{key:e.name},n().createElement("a",{href:e.link,className:"hover:bg-hbLightGray w-full inline-block p-2"},e.name))})))):null)}))),n().createElement("div",{className:"hidden lg:ml-6 lg:flex lg:items-center"},n().createElement("a",{href:"https://www.hollyburn.com/find-an-apartment",className:"bg-hbOrange hover:bg-hbOrangeHover",style:{opacity:1,display:"inline-block",verticalAlign:"middle",pointerEvents:"inherit",fontWeight:"500",padding:".75em 1.5em",borderRadius:".375rem",textDecoration:"none",textAlign:"center",border:"none",cursor:"pointer",fontSize:"100%"},target:"_blank",rel:"noreferrer"},"Find an Apartment")),n().createElement("div",{className:"-mr-2 flex items-center lg:hidden"},n().createElement(E.Disclosure.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"},n().createElement("span",{className:"sr-only"},"Open main menu"),t?n().createElement(x.XIcon,{className:"block h-6 w-6","aria-hidden":"true"}):n().createElement(x.MenuIcon,{className:"block h-6 w-6","aria-hidden":"true"}))))),n().createElement(E.Disclosure.Panel,{className:"lg:hidden"},n().createElement("div",{className:"pt-2 pb-3 space-y-1"})))}))}return t})()));